name: "Ice Cream Recipe"
description: "A simple recipe for making ice cream at home."
version: "1.0"
links:
  - name: "Initial User Inputs"
    type: "user_input"
    description: "User inputs for the recipe."
    inputs:
      Inspiration:
        type: "string"
        description: "Provide some inspiration for the ice cream flavor."
        required: true
        default: "vanilla"
      Demographic:
        type: "string"
        description: "Describe who you expect to be interested in this flavor."
        required: true
        default: "teenagers"
  - name: "Generate flavor name"
    type: "llm"
    prompt: "Generate a unique name for the ice cream flavor based on this inspiration: {{Initial_User_Inputs_output.inputs.Inspiration}} made for {{Initial_User_Inputs_output.inputs.Demographic}}."
    model: "gpt-4o"
    temperature: 0.5
    token_limit: 50
    execution_method: "direct"
  - name: "Parse flavor name"
    type: "llm"
    template: "flavor_json_template.txt"
    model: "gpt-4o"
    temperature: 0.5
    token_limit: 50
    execution_method: "direct"
  - name: "Save new flavor"
    type: "sql"
    query: "INSERT INTO flavors (flavor_name) VALUES ('{{Parse_flavor_name_output.output.result}}')"
    database_url: "sqlite:///database/data.db"
  - name: "List all flavors that contain this title"
    type: "sql"
    query: "SELECT flavor_name FROM flavors WHERE flavor_name LIKE '%{{Generate_flavor_name_output.output.result}}%'"
    database_url: "sqlite:///database/data.db"